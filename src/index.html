<!DOCTYPE HTML>
<html>
<head>
<title>Testing conversion unit</title>


<!-- Load json -->
<script src="sbmlUnits.json"></script>
<script src="simpleUnits.json"></script>

<!-- Load example -->
<script src="../cases/correct examples.js"></script>

<script src="index.js"></script>

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="style.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<script type="text/javascript" src="http://insilicobio.ru/mathjax/MathJax.js?config=TeX-MML-AM_HTMLorMML"> </script>
</head>
<body id="top">
<div class="w3-container">
<h1>Navigate</h1>
<ul id="navigate" class="w3-ul w3-hoverable w3-border">
</ul>
</div>
<hr/>
<div id="content" class="w3-container">
</div>

<div>
<p class="w3-bottom w3-padding">
  <a href="#top" class="w3-right  w3-button w3-circle w3-blue-grey"><i class="fa fa-arrow-up"></i></a>
</p>  
</div>
<script>
'use strict'
let content = document.getElementById("content"),
    nav = document.getElementById("navigate"); 
examples.forEach(function(item) {
  let li = document.createElement("li");
    let link = document.createElement("a");
    link.setAttribute("href", "#"+item);
    link.appendChild(document.createTextNode(item));
    li.appendChild(link);
  nav.appendChild(li);

  let un = Unit.parseFromString(item); 

  let container = document.createElement("div");

  let head = document.createElement("h2");
  head.setAttribute("id", item)
  head.appendChild(document.createTextNode("Input "));
    let span = document.createElement("span");
    span.classList.add("w3-blue-gray", "w3-padding-small", "w3-large");
    span.appendChild(document.createTextNode(item));
    head.appendChild(span);
  container.appendChild(head);

  head = document.createElement("h3");
  head.appendChild(document.createTextNode("Unit-object after parse "));
  container.appendChild(head);

  let parseJsonUnit = document.createElement("textarea");
  parseJsonUnit.appendChild(document.createTextNode(JSON.stringify(un, null, 2)));
  container.appendChild(parseJsonUnit);

  head = document.createElement("h3");
  head.appendChild(document.createTextNode("Unit-object to string " ));
    span = document.createElement("span");
    span.classList.add("w3-blue-gray", "w3-padding-small", "w3-small");
    span.appendChild(document.createTextNode(un.toString()));
    head.appendChild(span);
  container.appendChild(head);

  head = document.createElement("h3");
  head.appendChild(document.createTextNode("Unit-object hash "));
    span = document.createElement("span");
    span.classList.add("w3-blue-gray", "w3-padding-small", "w3-small");
    span.appendChild(document.createTextNode(un.toHash()));
    head.appendChild(span);
  container.appendChild(head);
  
  head = document.createElement("h3");
  head.appendChild(document.createTextNode("Unit-object after conver to sbmlUnit"));
  container.appendChild(head);
  let sbmlUnitTextarea = document.createElement("textarea");
  sbmlUnitTextarea.appendChild(document.createTextNode(JSON.stringify(un.toSbmlUnits(), null, 2)));
  container.appendChild(sbmlUnitTextarea);
  
  head = document.createElement("h3");
  head.appendChild(document.createTextNode("Unit definition"));
  container.appendChild(head);
  let defUnitTextarea = document.createElement("textarea");
  defUnitTextarea.appendChild(document.createTextNode( stripDOM(new XMLSerializer().serializeToString(un.toSbmlUnitDefinition()))) );
  container.appendChild(defUnitTextarea);
  
  let math = document.createElement("div");
  math.appendChild(document.createTextNode("$$"+un.toTex()+"$$"));
  container.appendChild(math);
  
  container.appendChild(document.createElement("hr"));

  content.appendChild(container);
});

function stripDOM(cont) {
	cont = cont.replace(/></g, ">\n<");
	return cont;
} 
</script>
</body>
</html>